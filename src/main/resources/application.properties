# Server configuration
server.port=8080

# Spring Mail Configuration
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=nutzycraft@gmail.com
spring.mail.password=vttk bqmj txun qbiu
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# Application URL for email links
app.url=http://localhost:8080

# Debugging
spring.security.debug=false

# 1. The Connection URL
# sslMode=REQUIRED: encrypts without local CA cert verification
# connectTimeout/socketTimeout set high enough for TiDB Serverless cold start (~12s)
spring.datasource.url=jdbc:mysql://gateway01.ap-southeast-1.prod.aws.tidbcloud.com:4000/GYM?sslMode=REQUIRED&connectTimeout=60000&socketTimeout=60000

# 2. Credentials
spring.datasource.username=64JmX2WcuFo38i9.root
spring.datasource.password=nEEM9xAECxmDlzE9

# 3. JDBC Driver
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# 4. HikariCP Connection Pool Settings
# initialization-fail-timeout: wait up to 120s for the first connection (TiDB cold start)
spring.datasource.hikari.connection-timeout=60000
spring.datasource.hikari.initialization-fail-timeout=120000
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=1
spring.datasource.hikari.idle-timeout=120000
spring.datasource.hikari.max-lifetime=300000
spring.datasource.hikari.keepalive-time=60000